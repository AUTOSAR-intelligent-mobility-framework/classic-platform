/*
* Configuration of module: Rte (Rte.c)
*
* Created by:              
* Copyright:               
*
* Configured for (MCU):    TMS570
*
* Module vendor:           ArcCore
* Generator version:       0.0.9
*
* Generated by Arctic Studio (http://arccore.com) 
*           on Thu Jun 16 10:00:54 CEST 2011
*/

/* Rte.c */
#include "Os.h"
#include "Rte_Types.h"
#include "Rte_Data.h"
#include "Com.h"
#include <string.h>
#include "Rte_Calculator.h"
#include "Rte_Tester.h"

Rte_CDS_Calculator Rte_Inst_Calculator = { };

Rte_DE_UInt8 Rte_Buf_Tester_prototype_Argumentsarg1_ibuffer;
Rte_DE_UInt8 Rte_Buf_Tester_prototype_Argumentsarg2_ibuffer;
Rte_DE_UInt16 Rte_Buf_Tester_prototype_Resultresult_ibuffer;
Rte_CDS_Tester Rte_Inst_Tester =
{
	.TesterRunnable_Arguments_arg1 = &Rte_Buf_Tester_prototype_Argumentsarg1_ibuffer,
	.TesterRunnable_Arguments_arg2 = &Rte_Buf_Tester_prototype_Argumentsarg2_ibuffer,
	.TesterRunnable_Result_result = &Rte_Buf_Tester_prototype_Resultresult_ibuffer,
};

void Rte_PRE_TesterRunnable() {
	uint8 Arg1_buf = 0;
	Com_ReceiveSignal(Arg1, &Arg1_buf);
	Rte_Inst_Tester.TesterRunnable_Arguments_arg1->value = (UInt8) Arg1_buf;

	uint8 Arg2_buf = 0;
	Com_ReceiveSignal(Arg2, &Arg2_buf);
	Rte_Inst_Tester.TesterRunnable_Arguments_arg2->value = (UInt8) Arg2_buf;

}

void Rte_POST_TesterRunnable() {
	uint8 Result_buf =
			(uint8) Rte_Inst_Tester.TesterRunnable_Result_result->value;
	Com_SendSignal(Result, &Result_buf);

}

void Rte_TesterRunnable() {
	Rte_PRE_TesterRunnable();
	TesterRunnable();
	Rte_POST_TesterRunnable();
}

Std_ReturnType Rte_Multiply(const UInt8 arg1, const UInt8 arg2, UInt16* result) {
	Std_ReturnType retVal = Multiply(arg1, arg2, result);
	return retVal;
}

Std_ReturnType Rte_Start() {
	return RTE_E_OK;
}

void StepTask() {
	EventMaskType eventMask = 0;
	while (1) {
		WaitEvent( EVENT_MASK_StepEvent);
		GetEvent(TASK_ID_StepTask, &eventMask);
		if (eventMask & EVENT_MASK_StepEvent) {
			Rte_TesterRunnable();
		}
		ClearEvent(EVENT_MASK_StepEvent);
	}
}

